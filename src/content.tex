% Front matter #######################################################
\frontmatter

% Page de garde
\makeflyleaf%

% Customize header and footer
\fancypagestyle{plain}{%  the preset of fancyhdr
    \fancyhf{} % clear all header and footer fields
    \fancyfoot[C]{\thepage} % except the center
    \renewcommand{\headrulewidth}{0pt}
    \renewcommand{\footrulewidth}{0pt}}
\pagestyle{fancy}
\fancyhf{}
\fancyhead[LE]{\leftmark}
\fancyhead[RO]{\rightmark}
\fancyhead[LO]{\today}
\fancyfoot[CE,CO]{\thepage}

% Dédicaces
% \chapter*{Dedications}%
% \input{src/frontmatter/dedicaces.tex}

% Abstract
\chapter*{Abstract}
\small
\vspace{-1em}
\input{src/abstracts/abstract-en.tex}
\normalsize

% Table des matières
\dominitoc%
\tableofcontents

% Main matter ########################################################
\mainmatter%

% Set style of code blocks throughout the document
\lstset{style=CodeStyle}

\chapter*{Introduction}%
\label{cha:introduction}
\addcontentsline{toc}{chapter}{Introduction}
\input{src/mainmatter/introduction.tex}

\part{Image Annotation}%
\label{prt:image_annotation}
\input{src/mainmatter/annotation/main.tex}

\part{RGB-D Visual Odometry}%
\label{prt:rgb_d_vo}
\input{src/mainmatter/rgbd-vo/main.tex}

\chapter*{Conclusion}%
\label{cha:conclusion}
\addcontentsline{toc}{chapter}{\nameref{cha:conclusion}}
\input{src/mainmatter/conclusion.tex}

\appendix

\chapter{Gradients of Reprojection Function}%
\label{cha:gradients_of_reprojection_function}
\input{src/mainmatter/jacobian.tex}


% Back matter #######################################################
\backmatter%

\bibliographystyle{plain}
\bibliography{%
	src/mainmatter/introduction.bib,
	src/mainmatter/annotation/annotation.bib,
	src/mainmatter/annotation/interactions.bib,
	src/mainmatter/annotation/outlining.bib,
	src/mainmatter/annotation/web.bib,
	src/mainmatter/rgbd-vo/vo.bib,
	src/mainmatter/rgbd-vo/wasm.bib,
	src/mainmatter/rgbd-vo/interactive-vors.bib,
	src/mainmatter/conclusion.bib
}

\clearpage
\pagestyle{empty}
\addcontentsline{toc}{chapter}{Abstracts}
\input{src/abstracts/abstract-en-short.tex}
\input{src/abstracts/abstract-fr-short.tex}
\clearpage
\section*{Abstract}\input{src/abstracts/abstract-en.tex}
\input{src/abstracts/abstract-fr.tex}
